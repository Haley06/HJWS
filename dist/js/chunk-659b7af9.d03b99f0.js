(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-659b7af9"],{"0602":function(e,t,s){},"18a7":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{staticClass:"userHead"},[s("img",{attrs:{src:e.img,alt:"user head"}})]),s("div",{staticClass:"userInfo"},[s("div",{},[s("div",{staticClass:"username"},[e._v(" "+e._s(e.username)+" ")]),s("div",{staticClass:"status van-ellipsis"},[e._v(" "+e._s(e.describe)+" ")])])]),s("div",{staticClass:"operateButton"},[e._t("default")],2)])},a=[],n={props:{img:{type:String,required:!0},username:{type:String,required:!0},describe:{type:String,required:!1}}},i=n,c=(s("efc9"),s("2877")),o=Object(c["a"])(i,r,a,!1,null,"45ddf348",null);t["a"]=o.exports},6338:function(e,t,s){"use strict";s("0602")},"8d41":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addFriend"},[s("nav-vue",[e._v("添加好友")]),s("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":""},on:{search:e.getUserByPhone},scopedSlots:e._u([{key:"action",fn:function(){return[s("div",{on:{click:e.getUserByPhone}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e.isSearched?s("div",{staticClass:"friendList"},e._l(e.friendList,(function(t,r){return s("user-card",{key:r,attrs:{username:t.username,img:t.avatarUrl,describe:t.introduction}},[[t.isFocus?s("button",{staticClass:"followButton"},[e._v("已关注")]):s("button",{staticClass:"followButton",on:{click:function(s){return e.addFollow(t.userId)}}},[e._v(" 关注 ")])]],2)})),1):s("van-empty",{staticClass:"empty",attrs:{image:"https://fastly.jsdelivr.net/npm/@vant/assets/custom-empty-image.png","image-size":"80",description:"还未进行好友搜索"}})],1)},a=[],n=(s("4160"),s("159b"),s("96cf"),s("1da1")),i=s("216c"),c=s("18a7"),o={components:{NavVue:i["a"],userCard:c["a"]},mounted:function(){},data:function(){return{searchText:"",friendList:[]}},methods:{getUserByPhone:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.searchText){t.next=2;break}return t.abrupt("return",vant.Toast({message:"搜索内容不能为空"}));case 2:if(s=/^1(3\d|4[5-9]|5[0-35-9]|6[2567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,s.test(e.searchText)){t.next=5;break}return t.abrupt("return",vant.Toast({message:"请填写正确的手机号格式"}));case 5:return t.next=7,e.$axios.post(e.$url.getUserByPhone.path,{phone:e.searchText});case 7:r=t.sent,0!==r.code&&vant.Toast({message:r.msg}),a=r.list,a.forEach((function(e){e.avatarUrl=null===e.avatarUrl?"https://tva3.sinaimg.cn/large/006xVoHRly8h52o7vrqswj30j60j60sq.jpg":e.avatarUrl})),e.friendList=a,console.log(e.friendList[0].isFocus);case 13:case"end":return t.stop()}}),t)})))()},addFollow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$axios.post(t.$url.addFollow.path,{monitoredId:e});case 2:r=s.sent,t.$store.commit("userAddFriends",{id:e,monitoreId:r.monitoreId});case 4:case"end":return s.stop()}}),s)})))()}},computed:{isSearched:function(){return 0!==this.friendList.length}}},u=o,d=(s("6338"),s("2877")),l=Object(d["a"])(u,r,a,!1,null,"4639f859",null);t["default"]=l.exports},a2fd:function(e,t,s){},efc9:function(e,t,s){"use strict";s("a2fd")}}]);
//# sourceMappingURL=chunk-659b7af9.d03b99f0.js.map