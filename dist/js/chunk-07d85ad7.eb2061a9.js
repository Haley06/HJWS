(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07d85ad7"],{"4a76":function(t,a,n){},5764:function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"musiclist"},[n("div",[n("Nav",{staticClass:"first"},[t._v("歌曲列表")])],1),n("van-list",{staticClass:"list",attrs:{finished:t.finished,"finished-text":"没有更多了"},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.tracks,(function(a,s){return n("van-cell",{key:s,staticClass:"cell"},[n("span",{staticClass:"num"},[t._v(t._s(s<10?"0"+s:s))]),0==s?n("div",{staticClass:"name"},[n("span",[t._v(" "+t._s(a.name)+" ")])]):n("div",{staticClass:"name"},[n("span",[t._v(" "+t._s(a.name)+" ")]),a.isPlay?n("van-icon",{attrs:{name:"pause"},on:{click:function(a){return t.stopMusic(s)}}}):n("van-icon",{attrs:{name:"play"},on:{click:function(n){return t.playMusic(a.id,s)}}})],1),n("span",{staticClass:"singer"},[t._v(" "+t._s(a.ar[0].name)+" ")])])})),1),n("footer",[n("music-player",{ref:"music",attrs:{questionAudio:t.musicUrl}})],1)],1)},e=[],i=(n("d81d"),n("5530")),c=(n("96cf"),n("1da1")),r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"musicPlayer"},[n("audio",{ref:"audio",staticClass:"audio",attrs:{src:t.questionAudio,name:12,controls:""},on:{ended:t.audioEnd}})])},u=[],o={name:"musicPlayer",props:["questionAudio"],data:function(){return{icon:!1}},methods:{handleplay:function(){var t=this;this.icon=!this.icon,setTimeout((function(){t.$refs.audio.play()}),100)},audioEnd:function(){var t=this;this.icon=!this.icon,setTimeout((function(){t.$refs.audio.pause()}),100),this.$emit("stopMusic")}}},l=o,d=(n("bb5f"),n("2877")),f=Object(d["a"])(l,r,u,!1,null,"3053cf0a",null),m=f.exports,p=n("216c"),h={components:{musicPlayer:m,Nav:p["a"]},data:function(){return{loading:!1,finished:!1,tracks:[],musicUrl:"https://static.xfanread.com/annualReview/annualReview2019.mp3"}},mounted:function(){this.getDetailMusicList()},methods:{playMusic:function(t,a){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var e,i,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,axios.get("http://49.232.78.210:3000/song/url?id="+t);case 2:e=s.sent,i=e.data,c=e.code,200==c&&(n.musicUrl=i[0].url,n.tracks[a].isPlay=!0,n.$refs.music.handleplay());case 6:case"end":return s.stop()}}),s)})))()},stopMusic:function(t){this.tracks[t].isPlay=!1,this.$refs.music.audioEnd()},getDetailMusicList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,s,e,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.$route.query.Id,a.next=3,axios.get("http://49.232.78.210:3000/playlist/detail?id="+n);case 3:s=a.sent,e=s.code,c=s.playlist,200==e?(t.tracks=c.tracks,t.tracks.unshift({name:"歌名",ar:[{name:"歌手"}]}),t.tracks=t.tracks.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{isPlay:!1})}))):t.$Message("发生错误");case 7:case"end":return a.stop()}}),a)})))()}}},v=h,y=(n("83c0"),Object(d["a"])(v,s,e,!1,null,"57612ca0",null));a["default"]=y.exports},"5d9f":function(t,a,n){},"83c0":function(t,a,n){"use strict";n("5d9f")},bb5f:function(t,a,n){"use strict";n("4a76")},d81d:function(t,a,n){"use strict";var s=n("23e7"),e=n("b727").map,i=n("1dde"),c=n("ae40"),r=i("map"),u=c("map");s({target:"Array",proto:!0,forced:!r||!u},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-07d85ad7.eb2061a9.js.map