(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-331d1566"],{"4b3f":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("LoginForm")],1)},n=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"loginForm"},[o("div",{staticClass:"form-title"},[o("div",{class:{check:!e.type},on:{click:e.changeType}},[e._v("登录")]),o("div",{class:{check:e.type},on:{click:e.changeType}},[e._v("手机验证")])]),o("div",{staticClass:"form"},[o("el-input",{attrs:{placeholder:"电话"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e.type?o("div",{key:"code",staticClass:"code"},[o("el-input",{attrs:{placeholder:"验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),o("button",{staticClass:"get-code",on:{click:e.getCode}},[e._v(" "+e._s(e.isCodeInterval?e.countDownTime+"s":"验证码")+" ")])],1):o("el-input",{key:"password",attrs:{placeholder:"密码","show-password":!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),o("el-button",{attrs:{type:"primary"},on:{click:e.onsubmit}},[e._v("登录")]),o("span",{staticClass:"register",on:{click:e.goRegister}},[e._v("注册账户")])],1)])},c=[],a=(o("96cf"),o("1da1")),r=o("216c"),l={name:"LoginForm",data:function(){return{mobile:"13734174131",password:"123456",uuid:0,code:"",type:0,isCodeInterval:0,countDownTime:60}},methods:{onsubmit:function(){var e=this;!1===Boolean(this.type)?this.$axios.post(this.$url.login.path,{mobile:this.mobile,password:this.password}).then((function(t){window.localStorage.setItem("token",t.token);e.$dsbrige.call("setToken",t.token);e.$store.commit("setMobile",e.mobile),e.$router.push("/profile")})):this.$axios.post(this.$url.postVercode.path,{mobile:this.mobile,uuid:this.uuid||2*this.mobile+1,code:this.code}).then((function(t){e.$store.commit("setMobile",e.mobile),e.$router.push("/profile")}))},goRegister:function(){this.$router.push("/register")},changeType:function(){this.type=!this.type,console.log(this.type)},getCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.uuid=2*e.mobile+1,t.next=3,e.$axios.get(e.$url.getVercode.path,{params:{mobile:e.mobile,uuid:e.uuid}});case 3:o=t.sent,console.log(o),e.countDown();case 6:case"end":return t.stop()}}),t)})))()},countDown:function(){var e=this;this.isCodeInterval=1;var t=window.setInterval((function(){e.countDownTime--,0===e.countDownTime&&(window.clearInterval(t),e.countDownTime=60,e.isCodeInterval=0)}),1e3)}},components:{Nav:r["a"]}},u=l,d=(o("5400"),o("2877")),p=Object(d["a"])(u,s,c,!1,null,"8decc4f0",null),m=p.exports,h={name:"Login",components:{LoginForm:m}},b=h,v=Object(d["a"])(b,i,n,!1,null,"54f30d16",null);t["default"]=v.exports},5400:function(e,t,o){"use strict";o("eb07")},eb07:function(e,t,o){}}]);
//# sourceMappingURL=chunk-331d1566.08b55502.js.map